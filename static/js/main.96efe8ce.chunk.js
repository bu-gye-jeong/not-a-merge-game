(this["webpackJsonpnot-a-merge-game"]=this["webpackJsonpnot-a-merge-game"]||[]).push([[0],{16:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),o=t(4),r=t.n(o),a=(t(16),t(7)),l=t(1),u=function(e){var n=e.reset,t=Object(c.useState)(0),i=Object(a.a)(t,2),o=i[0],r=i[1];return Object(l.jsxs)("button",{onClick:function(){if(5-o<=1)return n(),void r(0);r(o+1)},className:"plainButton",children:["Press ",5-o," more time to ",Object(l.jsx)("b",{children:"HARD RESET"})]})},s=t(6),d=[{paramCount:1,exp:"x+1",calc:function(e){return e+1},price:0},{paramCount:1,exp:"2x",calc:function(e){return 2*e},price:100}],v={inventory:[1],invMax:5,itemBought:new Array(d.length).fill(!1),money:0},m=Object(s.b)({name:"save",initialState:v,reducers:{addNumber:function(e,n){e.invMax>e.inventory.length&&e.inventory.push(n.payload)},removeNumberByIndex:function(e,n){0<=n.payload&&n.payload<e.invMax&&e.inventory.splice(n.payload,1)},buyOrSellShopItem:function(e,n){e.itemBought[n.payload]=!e.itemBought[n.payload]},changeInvMax:function(e,n){e.invMax=n.payload,e.inventory=e.inventory.slice(0,e.invMax)},addMoney:function(e,n){e.money+=n.payload},clearClicked:function(e,n){delete e.clickedNumber,delete e.clickedShop},clickShop:function(e,n){e.clickedShop=n.payload},clickNumber:function(e,n){e.clickedNumber||(e.clickedNumber=[]),e.clickedNumber.push(n.payload)},hardReset:function(e,n){e.invMax=v.invMax,e.inventory=v.inventory,e.itemBought=v.itemBought,e.money=v.money,delete e.clickedNumber,delete e.clickedShop,localStorage.removeItem("notAMergeGame")}}}),b=m.actions,p=b.addNumber,f=(b.removeNumberByIndex,b.buyOrSellShopItem),j=(b.changeInvMax,b.addMoney),h=b.clearClicked,y=b.clickNumber,k=b.clickShop,x=b.hardReset,O=m.reducer,g=t(3),N=function(){return Object(g.b)()},S=g.c,C=function(e){var n=e.content,t=e.isOpen,c=e.isClicked,i=e.cannotClick,o=e.onClick;return Object(l.jsx)("button",{className:"shopItem \n            ".concat(t?"unlocked":"locked"," \n            ").concat(c?"clicked":"","\n            ").concat(i?"cannotClick":""),onClick:o,children:t?n.exp:n.price+" to unlock"})},M=[{name:"shop",tab:function(){var e=N(),n=S((function(e){return e.save.itemBought})),t=S((function(e){return e.save.money})),c=S((function(e){return e.save.clickedShop}));var i=Object(l.jsx)("div",{id:"shopItems",children:d.map((function(i,o){return Object(l.jsx)(C,{content:i,isOpen:n[o],isClicked:o===c,onClick:function(){return function(c){if(n[c])e(k(c));else{var i=d[c].price;if(i>t)return;e(j(-i)),e(f(c))}}(o)},cannotClick:void 0!==c||d[o].price>t},o)}))});return Object(l.jsxs)("div",{id:"shop",className:"tab",children:[Object(l.jsx)("h3",{className:"title",children:"Shop"}),i]})}},{name:"option",tab:function(){var e=N();return Object(l.jsx)("div",{id:"options",className:"tab",children:Object(l.jsx)(u,{reset:function(){e(x())}})})}}],I=t(11),A=function(e){var n=e.content,t=e.cannotClick,c=e.onClick;return Object(l.jsx)("button",{className:"invItem ".concat(t?"cannotClick":""),onClick:c,children:n})},B=function(){var e=N(),n=S((function(e){return e.save.inventory})),t=S((function(e){return e.save.invMax})),c=S((function(e){return e.save.clickedShop})),i=S((function(e){return e.save.clickedNumber}));return Object(l.jsxs)("div",{id:"inventory",className:"tab",children:[Object(l.jsxs)("h3",{className:"title",children:["Inventory - ",n.length," / ",t]}),Object(l.jsx)("div",{id:"invItems",children:n.map((function(t,o){return Object(l.jsx)(A,{content:t,cannotClick:void 0===c||void 0!==i&&i.includes(o),onClick:function(){return function(t){var o;if(!(void 0===c||void 0!==i&&i.includes(t))){var r=d[c];if(null!==(o=null===i||void 0===i?void 0:i.length)&&void 0!==o?o:1<r.paramCount)return e(y(t));var a=i?[].concat(Object(I.a)(i),[t]).map((function(e){return n[e]})):[n[t]];e(p(r.calc.apply(r,Object(I.a)(a)))),e(h())}}(o)}},o)}))})]})};var G=function(){var e=N(),n=Object(c.useState)(0),t=Object(a.a)(n,2),i=t[0],o=t[1],r=Object(l.jsx)("div",{id:"tabNavs",children:M.map((function(e,n){return Object(l.jsx)("span",{className:"tabNav",onClick:function(){return o(n)},children:e.name},n)}))}),u=M[i].tab;return Object(l.jsxs)("div",{className:"App",children:[r,Object(l.jsx)(u,{}),Object(l.jsx)(B,{}),Object(l.jsx)("button",{onClick:function(){e(p(Math.floor(20*Math.random())))},children:"add number"}),Object(l.jsx)("button",{onClick:function(){localStorage.removeItem("notAMergeGame")},children:"reset localStorage"})]})};function J(e,n){var t;for(var c in e=null!==(t=e)&&void 0!==t?t:{},n){var i;if(Array.isArray(n[c]))e[c]=null!==(i=e[c])&&void 0!==i?i:[],R(e[c],n[c]);else if("object"===typeof n[c])e[c]=J(e[c],n[c]);else{var o;e[c]=n[c].constructor(null!==(o=e[c])&&void 0!==o?o:n[c])}}return e}function R(e,n){for(var t=0,c=n.length;t<c;t++)if(Array.isArray(n[t]))R(e[t],n[t]);else if("object"===typeof n[t])e[t]=J(e[t],n[t]);else{var i;e[t]=n[t].constructor(null!==(i=e[t])&&void 0!==i?i:n[t])}return e}var w=JSON.parse(localStorage.getItem("notAMergeGame")||"{}"),E=Object(s.a)({reducer:{save:O},preloadedState:J(w,{save:v})});E.subscribe((function(){localStorage.setItem("notAMergeGame",JSON.stringify(E.getState()))}));var D=E;r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(g.a,{store:D,children:Object(l.jsx)(G,{})})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.96efe8ce.chunk.js.map