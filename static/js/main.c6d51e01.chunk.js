(this["webpackJsonpnot-a-merge-game"]=this["webpackJsonpnot-a-merge-game"]||[]).push([[0],{36:function(e,n,t){},66:function(e,n){},85:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),i=t(8),o=t.n(i),a=(t(36),t(11)),u=t(2),l=t.n(u),s=t(1),d=function(e){var n=e.reset,t=Object(c.useState)(0),r=Object(a.a)(t,2),i=r[0],o=r[1];return Object(s.jsxs)("button",{onClick:function(){if(5-i<=1)return n(),void o(0);o(i+1)},id:"resetButton",className:"plainButton",children:["Press ",5-i," more time to ",Object(s.jsx)("b",{children:"HARD RESET"})]})},v=t(10),f=function(e){return new l.a(e)},p=[{paramCount:1,exp:"x+1",calc:function(e){return f(e).add(1).toString()},unlockPrice:"0",price:"0"},{paramCount:1,exp:"2x",calc:function(e){return f(e).mul(2).toString()},unlockPrice:"100",price:"10"},{paramCount:2,exp:"2x+y",calc:function(e,n){return f(e).mul(2).add(n).toString()},unlockPrice:"300",price:"40"},{paramCount:1,exp:"3x",calc:function(e){return f(e).mul(3).toString()},unlockPrice:"2000",price:"100"},{paramCount:1,exp:"x<sup>1.2</sup>",calc:function(e){return f(e).pow(1.2).toFixed(2)},unlockPrice:"100000",price:"10000"}],b=[{count:4,content:"Multiply 2 to starting number",price:function(e){return l.a.pow(10,e+1).mul(10).toString()},action:function(e,n){var t=n.startingNumber;return A(l.a.mul(t,2).toString())},sellAction:function(e,n){var t=n.startingNumber;return A(l.a.div(t,2).toString())}},{count:5,content:"Expand inventory",price:function(e){return l.a.pow(1e3,e).mul(30).toString()},action:function(e,n){var t=n.invMax;return O(t+1)},sellAction:function(e,n){var t=n.invMax;return O(t-1)}},{count:1,content:"Auto-select the greatest number",price:function(){return"5000"}}],m={inventory:["1"],invMax:5,itemBought:new Array(p.length).fill(!1),money:"0",startingNumber:"1",upgrade:new Array(b.length).fill(0)},j=Object(v.b)({name:"save",initialState:m,reducers:{addNumber:function(e,n){e.invMax>e.inventory.length&&e.inventory.push(n.payload)},removeNumberByIndex:function(e,n){0<=n.payload&&n.payload<e.invMax&&e.inventory.splice(n.payload,1)},buyOrSellShopItem:function(e,n){e.itemBought[n.payload]=!e.itemBought[n.payload]},setInvMax:function(e,n){e.invMax=n.payload,e.inventory=e.inventory.slice(0,e.invMax)},setMoney:function(e,n){e.money=n.payload},clearClicked:function(e,n){delete e.clickedNumber,delete e.clickedShop},clickShop:function(e,n){e.clickedShop=n.payload},clickNumber:function(e,n){e.clickedNumber||(e.clickedNumber=[]),e.clickedNumber.push(n.payload)},hardReset:function(e){e.invMax=m.invMax,e.inventory=m.inventory,e.itemBought=m.itemBought,e.money=m.money,e.startingNumber=m.startingNumber,e.upgrade=m.upgrade,delete e.clickedNumber,delete e.clickedShop,localStorage.removeItem("notAMergeGame")},setStartingNumber:function(e,n){e.startingNumber=n.payload},buyUpgrade:function(e,n){e.upgrade[n.payload]+=1},sellUpgrade:function(e,n){e.upgrade[n.payload]-=1}}}),g=j.actions,h=g.addNumber,x=g.removeNumberByIndex,y=g.buyOrSellShopItem,O=g.setInvMax,k=g.setMoney,N=g.clearClicked,S=g.clickNumber,C=g.clickShop,M=g.hardReset,A=g.setStartingNumber,I=g.buyUpgrade,B=g.sellUpgrade,E=j.reducer,w=t(6),P=function(){return Object(w.b)()},U=w.c,R=t(31),G=t.n(R),J=function(e){var n=e.content,t=e.isOpen,c=e.isClicked,r=e.cannotClick,i=e.onClick;return Object(s.jsxs)("button",{className:"shopItem \n            ".concat(c?"clicked":"","\n            ").concat(r?"cannotClick":""),onClick:i,children:[t?Object(s.jsx)("span",{className:"exp",children:G()(n.exp)}):"",t?" - Cost : "+n.price:n.unlockPrice+" to unlock"]})},L=function(e){var n=e.content,t=e.onBuy,c=e.onSell,r=e.buyClassName,i=e.sellClassName;return Object(s.jsxs)("div",{className:"upgrade",children:[Object(s.jsx)("button",{className:r,onClick:t,children:n.split("\n").map((function(e,n){return Object(s.jsxs)("span",{children:[e,Object(s.jsx)("br",{})]},n)}))}),Object(s.jsx)("button",{className:i,onClick:c,children:"Sell"})]})},F=[{name:"shop",tab:function(){var e=P(),n=U((function(e){return e.save.itemBought})),t=U((function(e){return e.save.money})),c=U((function(e){return e.save.clickedShop}));var r=Object(s.jsx)("div",{id:"shopItems",children:p.map((function(r,i){return Object(s.jsx)(J,{content:r,isOpen:n[i],isClicked:i===c,onClick:function(){return function(r){if(!c){var i=f(t);if(n[r]){var o=f(p[r].price);if(o.gt(i))return;e(k(i.sub(o).toString())),e(C(r))}else{var a=f(p[r].unlockPrice);if(a.gt(i))return;e(k(i.sub(a).toString())),e(y(r))}}}(i)},cannotClick:void 0!==c||n[i]&&f(p[i].price).gt(t)||!n[i]&&f(p[i].unlockPrice).gt(t)},i)}))});return Object(s.jsxs)("div",{id:"shop",className:"tab",children:[Object(s.jsx)("h3",{className:"title",onClick:function(){return e(N())},children:"Shop - Press Here or Esc to Reset"}),r]})}},{name:"upgrades",tab:function(){var e=P(),n=U((function(e){return e.save.upgrade})),t=U((function(e){return e.save.money})),c=U((function(e){return e.save})),r=b.map((function(r,i){return Object(s.jsx)(L,{content:"".concat(r.content," - ").concat(n[i],"/").concat(r.count,"\nCost : ").concat(n[i]>=r.count?"LVL MAX":r.price(n[i])),onBuy:function(){return function(r,i){if(!(n[i]>=r.count)){var o=f(r.price(n[i]));o.gt(t)||(e(k(f(t).sub(o).toFixed(2))),e(I(i)),r.action&&e(r.action(n[i],c)))}}(r,i)},buyClassName:"buyUpgrade ".concat(f(r.price(n[i])).gt(t)||n[i]===r.count?"cannotClick":""," ").concat(n[i]>=r.count?"max":""),onSell:function(){return function(r,i){if(!(n[i]<=0)){var o=f(r.price(n[i]-1));e(k(f(o).mul(.5).add(t).toFixed(2))),e(B(i)),r.sellAction&&e(r.sellAction(n[i],c))}}(r,i)},sellClassName:"sellUpgrade ".concat(n[i]<=0?"cannotClick":"")},i)}));return Object(s.jsxs)("div",{id:"upgrades",className:"tab",children:[Object(s.jsx)("h3",{className:"title",children:"Upgrades"}),Object(s.jsx)("div",{id:"upgradesGrid",children:r})]})}},{name:"option",tab:function(){var e=P();return Object(s.jsxs)("div",{id:"options",className:"tab",children:[Object(s.jsx)("h3",{className:"title",children:"Option"}),Object(s.jsx)(d,{reset:function(){e(M())}})]})}}],D=t(16),H=function(e){var n=e.content,t=e.cannotClick,c=e.onClick;return Object(s.jsx)("button",{className:"invItem ".concat(t?"cannotClick":""),onClick:c,children:n})},T=function(){var e=P(),n=U((function(e){return e.save.inventory})),t=U((function(e){return e.save.invMax})),r=U((function(e){return e.save.clickedShop})),i=U((function(e){return e.save.clickedNumber})),o=U((function(e){return e.save.money})),a=Object(c.useCallback)((function(t){var c;if(!(void 0===r||void 0!==i&&i.includes(t))){var o=p[r];if((null!==(c=null===i||void 0===i?void 0:i.length)&&void 0!==c?c:0)+1<o.paramCount)return e(S(t));var a=i?[].concat(Object(D.a)(i),[t]).map((function(e){return n[e]})):[n[t]];e(h(o.calc.apply(o,Object(D.a)(a)))),e(N())}}),[i,r,e,n]),u=U((function(e){return e.save.upgrade[2]}));return function(e,n){var t=Object(c.useRef)();Object(c.useEffect)((function(){t.current=e}),[e]),Object(c.useEffect)((function(){if(null!==n){var e=setInterval((function(){t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){var e;1===u&&"undefined"!==typeof r&&a((e=n,0===e.length?{index:0,value:f(0)}:e.reduce((function(e,n,t){return f(e.value).lt(n)&&(e.index=t,e.value=n),e}),{index:0,value:e[0]})).index)}),1e3),Object(s.jsxs)("div",{id:"inventory",className:"tab",children:[Object(s.jsxs)("h3",{className:"title",children:["Inventory - ",n.length," / ",t]}),Object(s.jsxs)("h3",{id:"resourceDisplayer",children:["Money : ",o]}),Object(s.jsx)("div",{id:"invItems",children:n.map((function(e,n){return Object(s.jsx)(H,{content:e,cannotClick:void 0===r||void 0!==i&&i.includes(n),onClick:function(){return a(n)}},n)}))})]})};var V=function(){var e=P(),n=Object(c.useState)(0),t=Object(a.a)(n,2),r=t[0],i=t[1],o=U((function(e){return e.save.inventory})),u=U((function(e){return e.save.money})),d=U((function(e){return e.save.startingNumber})),v=Object(s.jsx)("div",{id:"tabNavs",children:F.map((function(e,n){return Object(s.jsx)("span",{className:"tabNav ".concat(n===r?"selected":""),onClick:function(){return i(n)},children:e.name},n)}))}),p=F[r].tab,b=function(n){switch(n.key){case"Esc":case"Escape":e(N());break;default:return}};return Object(c.useEffect)((function(){return document.addEventListener("keydown",b),function(){document.removeEventListener("keydown",b)}})),Object(s.jsxs)("div",{className:"App",children:[v,Object(s.jsx)(p,{}),Object(s.jsx)(T,{}),Object(s.jsx)("div",{id:"bottomBar",children:Object(s.jsx)("button",{onClick:function(){for(var n=f("0"),t=o.length-1;t>0;t--)n=n.add(o[t]),e(x(t));e(x(0)),e(h(d)),e(k(l.a.add(u,n).toString()))},children:Object(s.jsx)("h2",{children:"Sell All"})})})]})};function X(e,n){var t;for(var c in e=null!==(t=e)&&void 0!==t?t:{},n){var r;if(Array.isArray(n[c]))e[c]=null!==(r=e[c])&&void 0!==r?r:[],q(e[c],n[c]);else if("object"===typeof n[c])e[c]=X(e[c],n[c]);else{var i;e[c]=n[c].constructor(null!==(i=e[c])&&void 0!==i?i:n[c])}}return e}function q(e,n){for(var t=0,c=n.length;t<c;t++)if(Array.isArray(n[t]))q(e[t],n[t]);else if("object"===typeof n[t])e[t]=X(e[t],n[t]);else{var r;e[t]=n[t].constructor(null!==(r=e[t])&&void 0!==r?r:n[t])}return e}var z=JSON.parse(localStorage.getItem("notAMergeGame")||"{}"),K=Object(v.a)({reducer:{save:E},preloadedState:X(z,{save:m})});K.subscribe((function(){localStorage.setItem("notAMergeGame",JSON.stringify(K.getState()))}));var Q=K;o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(w.a,{store:Q,children:Object(s.jsx)(V,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.c6d51e01.chunk.js.map