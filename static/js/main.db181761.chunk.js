(this["webpackJsonpnot-a-merge-game"]=this["webpackJsonpnot-a-merge-game"]||[]).push([[0],{13:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),i=t(3),o=t.n(i),a=(t(13),t(8)),l=t(1),u=function(e){var n=e.content,t=e.canClick,c=e.onClick;return Object(l.jsx)("span",{className:"invItem ".concat(t?"canClick":""),onClick:c,children:n})},d=[{paramCount:1,exp:"x+1",calc:function(e){return e+1},price:0},{paramCount:1,exp:"2x",calc:function(e){return 2*e},price:100}],s=t(4),v={inventory:[1],invMax:20,itemBought:new Array(d.length).fill(!1),money:0},p=Object(s.b)({name:"save",initialState:v,reducers:{addNumber:function(e,n){e.invMax>e.inventory.length&&e.inventory.push(n.payload)},removeNumberByIndex:function(e,n){0<=n.payload&&n.payload<e.invMax&&e.inventory.splice(n.payload,1)},buyOrSellShopItem:function(e,n){e.itemBought[n.payload]=!e.itemBought[n.payload]},changeInvMax:function(e,n){e.invMax=n.payload,e.inventory=e.inventory.slice(0,e.invMax)},addMoney:function(e,n){e.money+=n.payload},clearClicked:function(e,n){delete e.clickedNumber,delete e.clickedShop},clickShop:function(e,n){e.clickedShop=n.payload},clickNumber:function(e,n){e.clickedNumber||(e.clickedNumber=[]),e.clickedNumber.push(n.payload)}}}),m=p.actions,f=m.addNumber,b=(m.removeNumberByIndex,m.buyOrSellShopItem),h=(m.changeInvMax,m.addMoney),j=m.clearClicked,y=m.clickNumber,k=m.clickShop,x=p.reducer,O=t(2),g=function(){return Object(O.b)()},C=O.c,S=function(){var e=g(),n=C((function(e){return e.save.inventory})),t=C((function(e){return e.save.invMax})),c=C((function(e){return e.save.clickedShop})),r=C((function(e){return e.save.clickedNumber}));return Object(l.jsxs)("div",{id:"inventory",children:[Object(l.jsxs)("h3",{className:"title",children:["Inventory - ",n.length," / ",t]}),Object(l.jsx)("div",{id:"invItems",children:n.map((function(t,i){return Object(l.jsx)(u,{content:t,canClick:void 0!==c&&(void 0===r||!r.includes(i)),onClick:function(){return function(t){var i,o=d[c];if(null!==(i=null===r||void 0===r?void 0:r.length)&&void 0!==i?i:1<o.paramCount)return e(y(t));var l=r?[].concat(Object(a.a)(r),[t]).map((function(e){return n[e]})):[n[t]];e(f(o.calc.apply(o,Object(a.a)(l)))),e(j())}(i)}},i)}))})]})},N=function(e){var n=e.content,t=e.isOpen,c=e.isClicked,r=e.canClick,i=e.onClick;return Object(l.jsx)("button",{className:"shopItem \n            ".concat(t?"unlocked":"locked"," \n            ").concat(c?"clicked":"","\n            ").concat(r?"canClick":""),onClick:i,children:t?n.exp:n.price+" to unlock"})},M=function(){var e=g(),n=C((function(e){return e.save.itemBought})),t=C((function(e){return e.save.money})),c=C((function(e){return e.save.clickedShop}));var r=Object(l.jsx)("div",{id:"shopItems",children:d.map((function(r,i){return Object(l.jsx)(N,{content:r,isOpen:n[i],isClicked:i===c,onClick:function(){return function(c){if(n[c])e(k(c));else{var r=d[c].price;if(r>t)return;e(h(-r)),e(b(c))}}(i)},canClick:void 0===c&&d[i].price<=t},i)}))});return Object(l.jsxs)("div",{id:"shop",children:[Object(l.jsx)("h3",{className:"title",children:"Shop"}),r]})};var I=function(){var e=g();return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(M,{}),Object(l.jsx)(S,{}),Object(l.jsx)("button",{onClick:function(){e(f(Math.floor(20*Math.random())))},children:"add number"}),Object(l.jsx)("button",{onClick:function(){localStorage.removeItem("notAMergeGame")},children:"reset localStorage"})]})};function A(e,n){var t;for(var c in e=null!==(t=e)&&void 0!==t?t:{},n){var r;if(Array.isArray(n[c]))e[c]=null!==(r=e[c])&&void 0!==r?r:[],B(e[c],n[c]);else if("object"===typeof n[c])e[c]=A(e[c],n[c]);else{var i;e[c]=n[c].constructor(null!==(i=e[c])&&void 0!==i?i:n[c])}}return e}function B(e,n){for(var t=0,c=n.length;t<c;t++)if(Array.isArray(n[t]))B(e[t],n[t]);else if("object"===typeof n[t])e[t]=A(e[t],n[t]);else{var r;e[t]=n[t].constructor(null!==(r=e[t])&&void 0!==r?r:n[t])}return e}var J=JSON.parse(localStorage.getItem("notAMergeGame")||"{}"),w=Object(s.a)({reducer:{save:x},preloadedState:A(J,{save:v})});w.subscribe((function(){localStorage.setItem("notAMergeGame",JSON.stringify(w.getState()))}));var G=w;o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(O.a,{store:G,children:Object(l.jsx)(I,{})})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.db181761.chunk.js.map