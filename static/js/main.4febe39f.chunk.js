(this["webpackJsonpnot-a-merge-game"]=this["webpackJsonpnot-a-merge-game"]||[]).push([[0],{17:function(e,n,t){},23:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),r=t(5),o=t.n(r),a=(t(17),t(8)),l=t(2),u=t.n(l),s=t(1),d=function(e){var n=e.reset,t=Object(c.useState)(0),i=Object(a.a)(t,2),r=i[0],o=i[1];return Object(s.jsxs)("button",{onClick:function(){if(5-r<=1)return n(),void o(0);o(r+1)},id:"resetButton",className:"plainButton",children:["Press ",5-r," more time to ",Object(s.jsx)("b",{children:"HARD RESET"})]})},v=t(7),b=[{paramCount:1,exp:"x+1",calc:function(e){return u.a.add(1,e).toString()},unlockPrice:"0",price:"0"},{paramCount:1,exp:"2x",calc:function(e){return u.a.mul(e,2).toString()},unlockPrice:"100",price:"10"}],m={inventory:["1"],invMax:5,itemBought:new Array(b.length).fill(!1),money:"0"},j=Object(v.b)({name:"save",initialState:m,reducers:{addNumber:function(e,n){e.invMax>e.inventory.length&&e.inventory.push(n.payload)},removeNumberByIndex:function(e,n){0<=n.payload&&n.payload<e.invMax&&e.inventory.splice(n.payload,1)},buyOrSellShopItem:function(e,n){e.itemBought[n.payload]=!e.itemBought[n.payload]},changeInvMax:function(e,n){e.invMax=n.payload,e.inventory=e.inventory.slice(0,e.invMax)},setMoney:function(e,n){e.money=n.payload},clearClicked:function(e,n){delete e.clickedNumber,delete e.clickedShop},clickShop:function(e,n){e.clickedShop=n.payload},clickNumber:function(e,n){e.clickedNumber||(e.clickedNumber=[]),e.clickedNumber.push(n.payload)},hardReset:function(e,n){e.invMax=m.invMax,e.inventory=m.inventory,e.itemBought=m.itemBought,e.money=m.money,delete e.clickedNumber,delete e.clickedShop,localStorage.removeItem("notAMergeGame")}}}),p=j.actions,f=p.addNumber,h=p.removeNumberByIndex,y=p.buyOrSellShopItem,x=(p.changeInvMax,p.setMoney),O=p.clearClicked,k=p.clickNumber,g=p.clickShop,S=p.hardReset,N=j.reducer,C=t(4),M=function(){return Object(C.b)()},I=C.c,B=function(e){var n=e.content,t=e.isOpen,c=e.isClicked,i=e.cannotClick,r=e.onClick;return Object(s.jsxs)("button",{className:"shopItem \n            ".concat(c?"clicked":"","\n            ").concat(i?"cannotClick":""),onClick:r,children:[t?Object(s.jsx)("span",{className:"exp",children:n.exp}):"",t?" - Cost : "+n.price:n.unlockPrice+" to unlock"]})},A=[{name:"shop",tab:function(){var e=M(),n=I((function(e){return e.save.itemBought})),t=I((function(e){return e.save.money})),c=I((function(e){return e.save.clickedShop}));var i=Object(s.jsx)("div",{id:"shopItems",children:b.map((function(i,r){return Object(s.jsx)(B,{content:i,isOpen:n[r],isClicked:r===c,onClick:function(){return function(c){var i=new u.a(t);if(n[c]){var r=new u.a(b[c].price);if(r.gt(i))return;e(x(i.sub(r).toString())),e(g(c))}else{var o=new u.a(b[c].unlockPrice);if(o.gt(i))return;e(x(i.sub(o).toString())),e(y(c))}}(r)},cannotClick:void 0!==c||n[r]&&new u.a(b[r].price).gt(t)||!n[r]&&new u.a(b[r].unlockPrice).gt(t)},r)}))});return Object(s.jsxs)("div",{id:"shop",className:"tab",children:[Object(s.jsx)("h3",{className:"title",children:"Shop"}),i]})}},{name:"option",tab:function(){var e=M();return Object(s.jsxs)("div",{id:"options",className:"tab",children:[Object(s.jsx)("h3",{className:"title",children:"Option"}),Object(s.jsx)(d,{reset:function(){e(S())}})]})}}],w=t(12),P=function(e){var n=e.content,t=e.cannotClick,c=e.onClick;return Object(s.jsx)("button",{className:"invItem ".concat(t?"cannotClick":""),onClick:c,children:n})},J=function(){var e=M(),n=I((function(e){return e.save.inventory})),t=I((function(e){return e.save.invMax})),c=I((function(e){return e.save.clickedShop})),i=I((function(e){return e.save.clickedNumber})),r=I((function(e){return e.save.money}));return Object(s.jsxs)("div",{id:"inventory",className:"tab",children:[Object(s.jsxs)("h3",{className:"title",children:["Inventory - ",n.length," / ",t]}),Object(s.jsxs)("h3",{id:"resourceDisplayer",children:["Money : ",r]}),Object(s.jsx)("div",{id:"invItems",children:n.map((function(t,r){return Object(s.jsx)(P,{content:t,cannotClick:void 0===c||void 0!==i&&i.includes(r),onClick:function(){return function(t){var r;if(!(void 0===c||void 0!==i&&i.includes(t))){var o=b[c];if(null!==(r=null===i||void 0===i?void 0:i.length)&&void 0!==r?r:1<o.paramCount)return e(k(t));var a=i?[].concat(Object(w.a)(i),[t]).map((function(e){return n[e]})):[n[t]];e(f(o.calc.apply(o,Object(w.a)(a)))),e(O())}}(r)}},r)}))})]})};var R=function(){var e=M(),n=Object(c.useState)(0),t=Object(a.a)(n,2),i=t[0],r=t[1],o=I((function(e){return e.save.inventory})),l=I((function(e){return e.save.money})),d=Object(s.jsx)("div",{id:"tabNavs",children:A.map((function(e,n){return Object(s.jsx)("span",{className:"tabNav ".concat(n===i?"selected":""),onClick:function(){return r(n)},children:e.name},n)}))}),v=A[i].tab;return Object(s.jsxs)("div",{className:"App",children:[d,Object(s.jsx)(v,{}),Object(s.jsx)(J,{}),Object(s.jsx)("div",{id:"bottomBar",children:Object(s.jsx)("button",{onClick:function(){for(var n=new u.a("0"),t=o.length-1;t>0;t--)n=n.add(o[t]),e(h(t));e(x(u.a.add(l,n).toString()))},children:Object(s.jsx)("h2",{children:"Sell All"})})})]})};function E(e,n){var t;for(var c in e=null!==(t=e)&&void 0!==t?t:{},n){var i;if(Array.isArray(n[c]))e[c]=null!==(i=e[c])&&void 0!==i?i:[],G(e[c],n[c]);else if("object"===typeof n[c])e[c]=E(e[c],n[c]);else{var r;e[c]=n[c].constructor(null!==(r=e[c])&&void 0!==r?r:n[c])}}return e}function G(e,n){for(var t=0,c=n.length;t<c;t++)if(Array.isArray(n[t]))G(e[t],n[t]);else if("object"===typeof n[t])e[t]=E(e[t],n[t]);else{var i;e[t]=n[t].constructor(null!==(i=e[t])&&void 0!==i?i:n[t])}return e}var D=JSON.parse(localStorage.getItem("notAMergeGame")||"{}"),H=Object(v.a)({reducer:{save:N},preloadedState:E(D,{save:m})});H.subscribe((function(){localStorage.setItem("notAMergeGame",JSON.stringify(H.getState()))}));var T=H;o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(C.a,{store:T,children:Object(s.jsx)(R,{})})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.4febe39f.chunk.js.map